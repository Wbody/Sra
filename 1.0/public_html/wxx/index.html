<!DOCTYPE html>
<html>
    <head>
        <title>大屏幕监控</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../lib/Bootstrap/3.3.7/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="../WbodyJS/css/common.css">
        <link rel="stylesheet" href="css/wxx.css">
        <style>
            html{
                font-size: 50px;
            }
            .body_c_c_c{
                border: 1px solid #87defe;
                margin-left: 0.3rem;
                margin-right: 0.3rem;
                padding: 0.1rem;
                overflow-y: scroll;
                overflow-x: hidden;
            }
            .body_c_c_item {
                height: 3.7rem;
            }
            .table_column{
                float: left;
                color: #feffff;
                font-size: 0.18rem;
                height: 0.4rem;
                line-height: 0.4rem;
                padding-left: 0.1rem;
                padding-right: 0.1rem;
            }
            .table_body_column{
                color: #c9f4ff;
                font-size: 0.16rem;
            }
            .table_thead{
                background-color: #1dc4f166;
            }
            .fixed-table{
                position: absolute;
                margin-top: 0;
                width: calc(6.6rem - 1em);
            }
            .fixed-table-body{
                padding-top: 0.5rem;
                width: calc(6.6rem - 1em);
            }
            .table_body{
                background-color: #0c516966;
            }
            .table_body{
                margin-bottom: 0.1rem;
            }

        </style>
    </head>
    <body>
        <div class="backgroup">
            <div class="container-fluid">
                <div class="row">
                    <div class="header">
                        <div class="header_item header_l">
                            2017年10月29号，星期日
                        </div>
                        <div class="header_item header_c">
                            台站监控中心
                        </div>
                        <div class="header_item header_r">
                            上午10点28分45秒
                        </div>
                        <div class="clearfix"></div>
                    </div>

                    <div class="body">
                        <div class="body_item body_l">
                            <div class="ybp">
                                <div class="chart_title">
                                    <img src="image/tz.png"/>台站
                                </div>
                                <div class="ybp_item ybp_item_l" id="xysj"></div>
                                <div class="ybp_item ybp_item_c" id="gzwxsj"></div>
                                <div class="ybp_item ybp_item_r" id="gzcxsj"></div>
                                <div class="clearfix"></div>
                            </div>

                            <div class="lcs">
                                <div class="chart_title">
                                    <img src="image/che.png"/>车
                                </div>
                                <div class="chart_label">实时里程数（当月）</div>
                                <div class="chart_number">
                                    <div class="chart_number_item">
                                        1
                                    </div>
                                    <div class="chart_number_item">
                                        3
                                    </div>
                                    <div class="chart_number_item">
                                        0
                                    </div>
                                    <div class="chart_number_item">
                                        5
                                    </div>
                                    <div class="chart_number_item">
                                        0
                                    </div>
                                    <div class="chart_number_item doted">
                                        .
                                    </div>
                                    <div class="chart_number_item">
                                        2
                                    </div>
                                    <div class="chart_number_item">
                                        1
                                    </div>
                                    <div class="chart_number_item dw">
                                        公里
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="chart_label">实时里程数（当日）</div>
                                <div class="chart_number">
                                    <div class="chart_number_item empty_num">
                                        0
                                    </div>
                                    <div class="chart_number_item empty_num">
                                        0
                                    </div>
                                    <div class="chart_number_item">
                                        1
                                    </div>
                                    <div class="chart_number_item">
                                        5
                                    </div>
                                    <div class="chart_number_item">
                                        0
                                    </div>
                                    <div class="chart_number_item doted">
                                        .
                                    </div>
                                    <div class="chart_number_item">
                                        2
                                    </div>
                                    <div class="chart_number_item">
                                        1
                                    </div>
                                    <div class="chart_number_item dw">
                                        公里
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>

                            <div class="rs">
                                <div class="chart_title">
                                    <img src="image/r.png"/>人
                                </div>
                                <div class="rs_one">
                                    <div class="rs_one_item rs_item_l">当天待命人数</div>
                                    <div class="rs_one_item rs_item_c" id="dtdmrs" ></div>
                                    <div class="rs_one_item rs_item_r">
                                        <span class="rs_item_num" >203</span>
                                        <span>个</span>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="rs_one">
                                    <div class="rs_one_item rs_item_l">未签到人数</div>
                                    <div class="rs_one_item rs_item_c" id="wcdrs" ></div>
                                    <div class="rs_one_item rs_item_r">
                                        <span class="rs_item_num" >45</span>
                                        <span>个</span>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="rs_one">
                                    <div class="rs_one_item rs_item_l">现场作业人数</div>
                                    <div class="rs_one_item rs_item_c" id="xczyrs" ></div>
                                    <div class="rs_one_item rs_item_r">
                                        <span class="rs_item_num" >99</span>
                                        <span>个</span>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="rs_one">
                                    <div class="rs_one_item rs_item_l">在途中人数</div>
                                    <div class="rs_one_item rs_item_c" id="ztzrs" ></div>
                                    <div class="rs_one_item rs_item_r">
                                        <span class="rs_item_num" >45</span>
                                        <span>个</span>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                            <div class="rs_icon">
                                <div class="rs_icon_one">
                                    <div class="rs_icon_item">
                                        <div class="rs_icon_item_img"><img src="image/专业保障人员.png"/></div>
                                        <div class="rs_icon_item_label">专业保障人员</div>
                                        <div class="rs_icon_item_num">203 个</div>
                                    </div>
                                    <div class="rs_icon_item">
                                        <div class="rs_icon_item_img"><img src="image/累计巡检.png"/></div>
                                        <div class="rs_icon_item_label">累计巡检</div>
                                        <div class="rs_icon_item_num">203 个</div>
                                    </div>
                                    <div class="rs_icon_item">
                                        <div class="rs_icon_item_img"><img src="image/累计抢修.png"/></div>
                                        <div class="rs_icon_item_label">累计抢修</div>
                                        <div class="rs_icon_item_num">203 个</div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="rs_icon_one">
                                    <div class="rs_icon_item">
                                        <div class="rs_icon_item_img"><img src="image/更换配件.png"/></div>
                                        <div class="rs_icon_item_label">更换配件</div>
                                        <div class="rs_icon_item_num">203 个</div>
                                    </div>
                                    <div class="rs_icon_item">
                                        <div class="rs_icon_item_img"><img src="image/计量检定.png"/></div>
                                        <div class="rs_icon_item_label">计量检定</div>
                                        <div class="rs_icon_item_num">203 个</div>
                                    </div>
                                    <div class="rs_icon_item">
                                        <div class="rs_icon_item_img"><img src="image/保障里程.png"/></div>
                                        <div class="rs_icon_item_label">保障里程</div>
                                        <div class="rs_icon_item_num">203 个</div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>     
                                <div class="rs_icon_one">

                                    <div class="rs_icon_item">
                                        <div class="rs_icon_item_img"><img src="image/培训考试.png"/></div>
                                        <div class="rs_icon_item_label">培训考试</div>
                                        <div class="rs_icon_item_num">203 个</div>
                                    </div>
                                    <div class="rs_icon_item">
                                        <div class="rs_icon_item_img"><img src="image/最快响应.png"/></div>
                                        <div class="rs_icon_item_label">最快响应</div>
                                        <div class="rs_icon_item_num">203 个</div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                        <div class="body_item body_c">
                            <div class="map">

                            </div>
                            <div class="body_c_c">
                                <div class="body_c_c_item body_c_c_l" id="rose" ></div>
                                <div class="body_c_c_item body_c_c_c" id="table" >

                                </div>
                                <div class="body_c_c_item body_c_c_r" >
                                    <div class="gz_icon_one">
                                        <div class="gz_icon_item gzzs">
                                            <div class="gz_icon_item_label">故障台站总数</div>
                                            <div class="gz_icon_item_number">
                                                <span class="bilingbiling">92</span>
                                                <span>个</span>
                                            </div>
                                        </div>
                                        <div class="gz_icon_item ypds">
                                            <div class="gz_icon_item_label ">已派单数</div>
                                            <div class="gz_icon_item_number">
                                                <span class="bilingbiling">92</span>
                                                <span>个</span>
                                            </div>
                                        </div>
                                        <div class="gz_icon_item ybxs">
                                            <div class="gz_icon_item_label ">已报修数</div>
                                            <div class="gz_icon_item_number">
                                                <span class="bilingbiling">92</span>
                                                <span>个</span>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="gz_icon_one">
                                        <div class="gz_icon_item wcls">
                                            <div class="gz_icon_item_label">未处理数</div>
                                            <div class="gz_icon_item_number">
                                                <span class="bilingbiling">92</span>
                                                <span>个</span>
                                            </div>
                                        </div>
                                        <div class="gz_icon_item ywcs">
                                            <div class="gz_icon_item_label ">已完成数</div>
                                            <div class="gz_icon_item_number">
                                                <span class="bilingbiling">92</span>
                                                <span>个</span>
                                            </div>
                                        </div>
                                        <div class="gz_icon_item yhls">
                                            <div class="gz_icon_item_label ">已忽略</div>
                                            <div class="gz_icon_item_number">
                                                <span class="bilingbiling">92</span>
                                                <span>个</span>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                        <div class="body_item body_r">
                            <div id="form">

                            </div>
                            <div id="picture_box">
                                <div class="picture_box">
                                    <img src="image/demo.png" />
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
        <!--下面为接口调用必须引用插件-->
        <script type="text/javascript" src="../lib/jquery/1.9.1/jquery.min.js"></script>

        <!--下面为接口渲染插件-->
        <script type="text/javascript" src="../WbodyJS/common.js"></script>
        <script type="text/javascript" src="../sra/Sra.js"></script>
        <script type="text/javascript" src="../sra/Incubator.js"></script>
        <script type="text/javascript" src="http://cdn.bootcss.com/echarts/3.4.0/echarts.min.js"></script>
        <script type="text/javascript" src="option.js"></script>
        <script>
            var data = {
                tz: "M1234",
                tzm: "长安站",
                dz: "新世界中心B座",
                bzry: "高以朝",
                cwxx: "雨量:空间一致性判断：错误数据（无降水产生雨量）; ",
                fssj: "2017-09:10 09:30:00",
                pdxq: "已派单",
                EMPTY: "NULL"
            };

            var json = [{
                    tz: "M1234",
                    tzm: "长安站",
                    cwxx: "雨量:空间一致性判断：错误数据（无降水产生雨量）; ",
                    jcsj: "09:30:00",
                    cwlx: "设备故障"
                }, {
                    tz: "M1234",
                    tzm: "长安站",
                    cwxx: "雨量:空间一致性判断：错误数据（无降水产生雨量）; ",
                    jcsj: "09:30:00",
                    cwlx: "设备故障"
                }, {
                    tz: "M1234",
                    tzm: "长安站",
                    cwxx: "雨量:空间一致性判断：错误数据（无降水产生雨量）; ",
                    jcsj: "09:30:00",
                    cwlx: "设备故障"
                }, {
                    tz: "M1234",
                    tzm: "长安站",
                    cwxx: "雨量:空间一致性判断：错误数据（无降水产生雨量）; ",
                    jcsj: "09:30:00",
                    cwlx: "设备故障"
                }, {
                    tz: "M1234",
                    tzm: "长安站",
                    cwxx: "雨量:空间一致性判断：错误数据（无降水产生雨量）; ",
                    jcsj: "09:30:00",
                    cwlx: "设备故障"
                }, {
                    tz: "M1234",
                    tzm: "长安站",
                    cwxx: "雨量:空间一致性判断：错误数据（无降水产生雨量）; ",
                    jcsj: "09:30:00",
                    cwlx: "设备故障"
                }, {
                    tz: "M1234",
                    tzm: "长安站",
                    cwxx: "雨量:空间一致性判断：错误数据（无降水产生雨量）; ",
                    jcsj: "09:30:00",
                    cwlx: "设备故障"
                }, {
                    tz: "M1234",
                    tzm: "长安站",
                    cwxx: "雨量:空间一致性判断：错误数据（无降水产生雨量）; ",
                    jcsj: "09:30:00",
                    cwlx: "设备故障"
                }];
            var style1 = {
                main: {
                    css: {
                        row: "text-center"
                    },
                    elements: {
                        container: "div",
                        row: "div",
                        column: "div"
                    }
                },
                thead: {
                    css: {
                        container: "table_thead fixed-table",
                        row: "overflow-hidden",
                        column: "text-center table_column line-label"
                    },
                    elements: {
                        row: "div",
                        column: "div"
                    }
                },
                tbody: {
                    css: {
                        container: "fixed-table-body",
                        row: "overflow-hidden border table_body",
                        column: "text-center table_column table_body_column line-label"
                    },
                    elements: {
                        row: "div",
                        column: "div"
                    }
                }
            };
            var tableSetting3 = {
                thead: {
                    isSra: true,
                    dataDealer: function () {
                        return {
                            NO: "序号",
                            tz: "台站号",
                            tzm: "台站名",
                            cwxx: "错误信息",
                            jcsj: "发生时间",
                            cwlx: "错误类型"
                        };
                    },
                    fieldDealer: function (value, obj, column, field, fieldOption) {
                        var p = fieldOption[field].persent;
                        var size = Math.floor(p / 12 * 100);
                        $(column).css("width", size + "%").append(value);
                    },
                    fieldOption: {
                        NO: {
                            name: "序号",
                            persent: 1
                        },
                        tz: {
                            name: "台站号",
                            persent: 2
                        },
                        tzm: {
                            name: "台站名",
                            persent: 2
                        },
                        cwxx: {
                            name: "错误信息",
                            persent: 3
                        },
                        jcsj: {
                            name: "发生时间",
                            persent: 2
                        },
                        cwlx: {
                            name: "错误类型",
                            persent: 2
                        }
                    }
                },
                tbody: {
                    isSra: true,
                    fieldDealer: function (value, obj, column, field, fieldOption) {
                        if (field === "NO") {
                            value = parseInt(WUtil.getData(column, "row")) + 1;
                        }
                        var p = fieldOption[field].persent;
                        var size = Math.floor(p / 12 * 100);
                        $(column).css("width", size + "%").append(value);
                    },
                    fieldOption: {
                        NO: {
                            name: "序号",
                            persent: 1
                        },
                        tz: {
                            name: "台站号",
                            persent: 2
                        },
                        tzm: {
                            name: "台站名",
                            persent: 2
                        },
                        cwxx: {
                            name: "错误信息",
                            persent: 3
                        },
                        jcsj: {
                            name: "发生时间",
                            persent: 2
                        },
                        cwlx: {
                            name: "错误类型",
                            persent: 2
                        }
                    }
                }
            };
            $(document).ready(function () {
                var table = new Plugin("form");
                table.protocol(["title", "tbody"], tableSetting).set("#form", style).apply(data);

                var table1 = new Plugin("form");
                table1.protocol(["title", "tbody"], tableSetting1).set("#form", style).apply(data);

                var table2 = new Plugin("form");
                table2.protocol(["title", "tbody"], tableSetting2).set("#form", style).apply(data);
                initYBP();
                initRs();
                initRose();

                var table3 = new Plugin("table");
                table3.protocol(["thead", "tbody"], tableSetting3).set("#table", style1).apply(json);
            });



            function initYBP() {
                var fontSize = parseInt($("html").css("font-size"));
                fontSize = fontSize * 0.2;
                var myChart = echarts.init(document.getElementById('xysj'));
                myChart.setOption(getYBP("#0eeed0", "#012a59", 60, "平均响应时间", fontSize));
                myChart = echarts.init(document.getElementById('gzwxsj'));
                myChart.setOption(getYBP("#3db5fa", "#012a59", 50, "平均故障修复时间", fontSize));
                myChart = echarts.init(document.getElementById('gzcxsj'));
                myChart.setOption(getYBP("#9e56f0", "#012a59", 70, "平均故障持续时间", fontSize));
            }
            function initRs() {
                var fontSize = parseInt($("html").css("font-size"));
                var height = fontSize * 0.2;
                var myChart = echarts.init(document.getElementById('dtdmrs'));
                myChart.setOption(getRS(0.25, height));
                myChart = echarts.init(document.getElementById('wcdrs'));
                myChart.setOption(getRS(0.45, height));
                myChart = echarts.init(document.getElementById('xczyrs'));
                myChart.setOption(getRS(0.75, height));
                myChart = echarts.init(document.getElementById('ztzrs'));
                myChart.setOption(getRS(0.15, height));
            }
            function initRose() {
                var fontSize = parseInt($("html").css("font-size"));
                var height = fontSize;
                var myChart = echarts.init(document.getElementById('rose'));
                myChart.setOption(getRose(height));

            }

        </script>
    </body>
</html>
